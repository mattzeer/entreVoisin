@using EntreVoisin.Models;
@model InscriptionModelView
@{

    ViewBag.Title = "Inscription";

}
<br />
<br />
<section style="background:#ffffff;">
    <div class="container">
        <div class="row">
            <div class="board">
                <div class="board-inner">
                    <ul class="nav nav-tabs" id="myTab">
                        <li class="active">
                            <a href="#home" data-toggle="tab" title="welcome">
                                <span class="round-tabs one">
                                    <i class="glyphicon glyphicon-home"></i>
                                </span>
                            </a>
                        </li>

                        <li>
                            <a href="#profile" data-toggle="tab" title="profile">
                                <span class="round-tabs two">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#messages" data-toggle="tab" title="bootsnipp goodies">
                                <span class="round-tabs three">
                                    <i class="glyphicon glyphicon-road"></i>
                                </span>
                            </a>
                        </li>

                        <li>
                            <a href="#settings" data-toggle="tab" title="blah blah">
                                <span class="round-tabs four">
                                    <i class="glyphicon glyphicon-user"></i>
                                </span>
                            </a>
                        </li>

                        <li>
                            <a href="#doner" data-toggle="tab" title="completed">
                                <span class="round-tabs five">
                                    <i class="glyphicon glyphicon-ok"></i>
                                </span>
                            </a>
                        </li>

                    </ul>
                </div>
            @using (Html.BeginForm("Inscription", "", FormMethod.Post))
            {
                <div class="tab-content">
                    <div class="tab-pane fade in active" id="home">

                        <h3 class="head text-center">Bienvenue sur EntreVoisins<sup>™</sup> <span style="color:#f48260;">♥</span></h3>
                        <p class="narrow text-center">
                           Blablabla.
                        </p>

                    </div>
                    <div class="tab-pane fade" id="profile">
                        
                        <div class="form-group">
                            @Html.LabelFor(m => m.nomInscription)
                            @Html.TextBoxFor(m => m.nomInscription, new { placeholder = "Votre Nom", @class = "form-control" })
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(m => m.prenomInscription)
                            @Html.TextBoxFor(m => m.prenomInscription, new { @placeholder = "Votre Prenom", @class = "form-control" })
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(m => m.ageInscription)
                            @Html.TextBoxFor(m => m.ageInscription, new { @placeholder = "Votre Date de naissance", @class = "form-control" })
                        </div>
                        

                    </div>
                    <div class="tab-pane fade" id="messages">
                        <div class="col-lg-12">
                            <center><h1>Ou habitez vous ?</h1></center>
                            <div class="row  col-lg-offset-2 col-lg-8">
                                <p>A partir de cette adresse nous allons vérifier autour de vous les communautés déjà existante afin de vous faciliter la recherche. Vous pourrez toujours changer d'adresse après validation afin d'être le plus précis.</p>
                            </div>

                            <br />

                            <div class="row  col-lg-offset-2 col-lg-8">
                                <div id="locationField">
                                    <input id="autocomplete" placeholder="Entrez votre adresse" onfocus="geolocate()" type="text" class="form-control">
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="tab-pane fade" id="settings">
                        <div class="form-group">
                            @Html.LabelFor(m => m.mailInscription)
                            @Html.TextBoxFor(m => m.mailInscription, new { @placeholder = "Votre Addresse Email", @class = "form-control" })
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(m => m.motDePasseInscription)
                            @Html.Password("mdp", "", new { @placeholder = "Choisissez un Mot de passe", @class = "form-control" })
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(m => m.confirmMotDePasseInscription)
                            @Html.Password("cMdp", "", new { @placeholder = "Confirmation de votre mot de passe", @class = "form-control" })
                        </div>
                    </div>
                    <div class="tab-pane fade" id="doner">
                        <div class="text-center">
                            <i class="img-intro icon-checkmark-circle"></i>
                        </div>
                        <h3 class="head text-center">Merci de votre inscription ! <span style="color:#f48260;">♥</span> Bootstrap</h3>
                        <div class="row">
                            <div class="col-lg-6 col-lg-offset-3">
                                <button class="btn btn-primary form-control">Valider</button>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            }
            </div>
        </div>
    </div>
</section>


<script>
    // This example displays an address form, using the autocomplete feature
    // of the Google Places API to help users fill in the information.

    var placeSearch, autocomplete;
    var componentForm = {
        street_number: 'short_name',
        route: 'long_name',
        locality: 'long_name',
        postal_code: 'short_name'
    };


    function initAutocomplete() {
        // Create the autocomplete object, restricting the search to geographical
        // location types.
        autocomplete = new google.maps.places.Autocomplete(
            (document.getElementById('autocomplete')),
            { types: ['geocode'] });

        // When the user selects an address from the dropdown, populate the address
        // fields in the form.
        autocomplete.addListener('place_changed', fillInAddress);
    }

    // [START region_fillform]
    function fillInAddress() {
        // Get the place details from the autocomplete object.
        var place = autocomplete.getPlace();

        document.getElementById('lat').value = place.geometry.location.lat();
        document.getElementById('long').value = place.geometry.location.lng();

        for (var component in componentForm) {
            document.getElementById(component).value = '';
        }

        // Get each component of the address from the place details
        // and fill the corresponding field on the form.


        for (var i = 0; i < place.address_components.length; i++) {

            var addressType = place.address_components[i].types[0];
            if (componentForm[addressType]) {
                var val = place.address_components[i][componentForm[addressType]];
                document.getElementById(addressType).value = val;
            }
        }

        document.getElementById('lat').value = lol;
    }
    // [END region_fillform]

    // [START region_geolocation]
    // Bias the autocomplete object to the user's geographical location,
    // as supplied by the browser's 'navigator.geolocation' object.
    function geolocate() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                var geolocation = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };

                document.getElementById(component).value = lat
                var circle = new google.maps.Circle({
                    center: geolocation,
                    radius: position.coords.accuracy
                });
                autocomplete.setBounds(circle.getBounds());
            });
        }
    }
    // [END region_geolocation]

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBffhZW6yoemiJGFZfT4joalGZQbR89kxs&signed_in=true&libraries=places&callback=initAutocomplete" async defer></script>